"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[512],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return d}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=l(r),d=o,h=m["".concat(c,".").concat(d)]||m[d]||p[d]||i;return r?n.createElement(h,a(a({ref:t},u),{},{components:r})):n.createElement(h,a({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8479:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p}});var n=r(7462),o=r(3366),i=(r(7294),r(3905)),a=["components"],s={sidebar_position:50,title:"Remotes System"},c="Remotes System",l={unversionedId:"remotes",id:"remotes",title:"Remotes System",description:"This project uses the remotes package, which simplifies the creation and usage of remotes:",source:"@site/docs/remotes.md",sourceDirName:".",slug:"/remotes",permalink:"/dragon-game/docs/remotes",draft:!1,tags:[],version:"current",sidebarPosition:50,frontMatter:{sidebar_position:50,title:"Remotes System"},sidebar:"tutorialSidebar",previous:{title:"Docs Development Setup",permalink:"/dragon-game/docs/docs-setup"},next:{title:"Components",permalink:"/dragon-game/docs/components/"}},u={},p=[{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"Dispatching Actions From Remotes",id:"dispatching-actions-from-remotes",level:2},{value:"Creating Actions",id:"creating-actions",level:3},{value:"Creating Checks",id:"creating-checks",level:3},{value:"Request Processor",id:"request-processor",level:3}],m={toc:p};function d(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"remotes-system"},"Remotes System"),(0,i.kt)("p",null,"This project uses the ",(0,i.kt)("a",{parentName:"p",href:"https://chipioindustries.github.io/remotes/"},"remotes")," package, which simplifies the creation and usage of remotes:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\nlocal Remotes = require(ReplicatedStorage.Packages.Remotes)\nlocal myRemote = Remotes:getFunctionAsync("myRemote")\nprint(myRemote:InvokeServer())\n')),(0,i.kt)("h2",{id:"rate-limiting"},"Rate Limiting"),(0,i.kt)("p",null,"Rate limiting middleware is added to all remotes automatically. The configuration for these limits can be found in ",(0,i.kt)("inlineCode",{parentName:"p"},"server/Secrets"),". Custom limits can be set for specific remotes if desired."),(0,i.kt)("h2",{id:"dispatching-actions-from-remotes"},"Dispatching Actions From Remotes"),(0,i.kt)("p",null,"Rodux actions can be exposed to players as RemoteFunctions. These remotes are rate-limited and checked rigorously to ensure the player cannot crash the server or use exploiting tools to gain an unfair advantage."),(0,i.kt)("h3",{id:"creating-actions"},"Creating Actions"),(0,i.kt)("p",null,"Create an action in ",(0,i.kt)("inlineCode",{parentName:"p"},"server/Actions")," that you want the player to be able to invoke. These actions will receive the match ID, the player ID, and then any arguments provided by the player."),(0,i.kt)("h3",{id:"creating-checks"},"Creating Checks"),(0,i.kt)("p",null,"Create a check module in ",(0,i.kt)("inlineCode",{parentName:"p"},"shared/Checks/Requests"),". This module will only receive the exact arguments provided by the remote (e.g. if the player invokes the function passing through 1 argument, the check will receive the player object and the argument). The check should verify that the user input is valid and there is no way the player would be breaking the game. In the end, the check should return true if the request is valid. If the request is invalid, the check should return false and the reason for the failure."),(0,i.kt)("h3",{id:"request-processor"},"Request Processor"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"server/Modules/RequestProcessor")," is responsible for converting these checks and actions into remotes that can be accessed by the client. It will cycle through each check module located in ",(0,i.kt)("inlineCode",{parentName:"p"},"shared/Checks/Requests")," and create a ",(0,i.kt)("inlineCode",{parentName:"p"},"RemoteFunction")," for it."))}d.isMDXComponent=!0}}]);